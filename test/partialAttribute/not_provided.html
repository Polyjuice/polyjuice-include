
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

    <script src="../../../webcomponentsjs/webcomponents.js"></script>
    <script src="../../../web-component-tester/browser.js"></script>

    <!-- Step 1: import the element to test -->
    <link rel="import" href="../../starcounter-include.html">
</head>

<body>
    <test-fixture id="starcounter-include">
        <template><div><starcounter-include></starcounter-include></div></template>
    </test-fixture>

    <script>
        describe('when created programatically with no partial value',
            testNoPartialValue(function () {
                return document.createElement("starcounter-include");
            })
        );
        describe('when created with no partial value',
            testNoPartialValue(function () {
                return fixture("starcounter-include").querySelector('starcounter-include');
            })
        );
        function testNoPartialValue(createInstance) {
            return function(){
                var include;
                beforeEach(function(done) {
                    include = createInstance();
                    // wait for stamp
                    setTimeout(done, 500);
                });
                it('should add `<template is="imported-template">` as descendant node', function() {
                    console.log('include', include)
                    expect(include.querySelector("template")).to.be.not.null;
                    expect(include.querySelector("template").getAttribute("is").toLowerCase()).to.equal("imported-template");
                });
                it('added `<imported-template>` should not have any model attached', function() {
                    expect(include.querySelector("template").model).to.be.falsy;
                });
                it('added `<imported-template>` should not have content attribute', function() {
                    expect(include.querySelector("template").hasAttribute("content")).to.be.false;
                });
            };
        }
    </script>

</body>

</html>
